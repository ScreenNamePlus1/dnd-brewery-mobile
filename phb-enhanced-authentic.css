/* Enhanced D&D PHB Styling - More Authentic Pages */
/* Add this CSS to your existing files or create as a separate snippet */

/* Page Layout and Margins - Authentic PHB Style */
.markdown-preview-view {
    max-width: 8.5in !important;
    margin: 0 auto !important;
    padding: 0.75in 1in !important;
    background: var(--phb-cream, #fdf1dc) !important;
    position: relative !important;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.3) !important;
    min-height: 11in !important;
}

/* Add Page Border Frame */
.markdown-preview-view::before {
    content: "" !important;
    position: absolute !important;
    top: 0.5in !important;
    left: 0.5in !important;
    right: 0.5in !important;
    bottom: 0.5in !important;
    border: 3px solid transparent !important;
    background: 
        linear-gradient(var(--phb-cream), var(--phb-cream)) padding-box,
        linear-gradient(45deg, 
            var(--phb-burgundy) 0%, 
            var(--phb-gold) 25%, 
            var(--phb-burgundy) 50%, 
            var(--phb-gold) 75%, 
            var(--phb-burgundy) 100%
        ) border-box !important;
    border-radius: 8px !important;
    pointer-events: none !important;
    z-index: -1 !important;
}

/* Corner Decorations */
.markdown-preview-view::after {
    content: "" !important;
    position: absolute !important;
    top: 0.4in !important;
    left: 0.4in !important;
    right: 0.4in !important;
    bottom: 0.4in !important;
    background-image: 
        /* Corner decorations using CSS */
        radial-gradient(circle at 0% 0%, var(--phb-gold) 0%, transparent 15px),
        radial-gradient(circle at 100% 0%, var(--phb-gold) 0%, transparent 15px),
        radial-gradient(circle at 0% 100%, var(--phb-gold) 0%, transparent 15px),
        radial-gradient(circle at 100% 100%, var(--phb-gold) 0%, transparent 15px) !important;
    background-size: 30px 30px !important;
    background-repeat: no-repeat !important;
    background-position: top left, top right, bottom left, bottom right !important;
    pointer-events: none !important;
    z-index: -1 !important;
}

/* Page Numbers - PHB Style */
body::before {
    content: counter(page) !important;
    position: fixed !important;
    bottom: 0.5in !important;
    right: 50% !important;
    transform: translateX(50%) !important;
    font-family: "Cinzel", serif !important;
    font-size: 0.9em !important;
    font-weight: bold !important;
    color: var(--phb-burgundy) !important;
    z-index: 1000 !important;
    background: var(--phb-cream) !important;
    padding: 0.2em 0.5em !important;
    border-radius: 4px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Chapter Title Pages - Full Page Treatment */
h1 {
    font-family: "Cinzel Decorative", "Cinzel", serif !important;
    font-size: 2.5em !important;
    text-align: center !important;
    page-break-before: always !important;
    margin: 2in 0 1in 0 !important;
    padding: 1.5em 2em !important;
    background: 
        linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(255, 248, 230, 0.9) 50%, rgba(255, 255, 255, 0.6) 100%),
        radial-gradient(circle at 30% 30%, rgba(139, 117, 94, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 70% 70%, rgba(88, 24, 13, 0.05) 0%, transparent 50%) !important;
    border: 5px solid transparent !important;
    background-clip: padding-box !important;
    border-radius: 20px !important;
    position: relative !important;
    box-shadow: 
        0 10px 25px rgba(0, 0, 0, 0.2),
        inset 0 3px 0 rgba(255, 255, 255, 0.9) !important;
}

/* Decorative Chapter Border */
h1::before {
    content: "" !important;
    position: absolute !important;
    top: -5px !important;
    left: -5px !important;
    right: -5px !important;
    bottom: -5px !important;
    background: linear-gradient(45deg, 
        var(--phb-burgundy) 0%, 
        var(--phb-gold) 12.5%, 
        var(--phb-burgundy) 25%, 
        var(--phb-gold) 37.5%, 
        var(--phb-burgundy) 50%, 
        var(--phb-gold) 62.5%, 
        var(--phb-burgundy) 75%, 
        var(--phb-gold) 87.5%, 
        var(--phb-burgundy) 100%
    ) !important;
    border-radius: 25px !important;
    z-index: -1 !important;
}

/* Chapter Decorative Elements */
h1::after {
    content: "❦ ⚔️ ❦" !important;
    display: block !important;
    font-size: 0.4em !important;
    color: var(--phb-gold) !important;
    margin-top: 0.5em !important;
    text-shadow: 0 0 6px rgba(201, 173, 106, 0.6) !important;
    letter-spacing: 0.2em !important;
}

/* Section Headers with Decorative Underlines */
h2 {
    font-size: 1.8em !important;
    border-bottom: none !important;
    padding: 1em 1.5em 0.5em 1.5em !important;
    margin: 2em -1.5em 1em -1.5em !important;
    background: 
        linear-gradient(90deg, 
            rgba(255, 248, 230, 0.9) 0%, 
            rgba(255, 252, 240, 1) 50%, 
            rgba(255, 248, 230, 0.8) 100%
        ),
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(139, 117, 94, 0.03) 2px,
            rgba(139, 117, 94, 0.03) 4px
        ) !important;
    border-radius: 12px !important;
    position: relative !important;
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.1),
        inset 0 2px 4px rgba(255, 255, 255, 0.8) !important;
}

/* Decorative H2 Underline */
h2::after {
    content: "" !important;
    position: absolute !important;
    bottom: 0 !important;
    left: 1.5em !important;
    right: 1.5em !important;
    height: 4px !important;
    background: 
        linear-gradient(90deg, 
            transparent 0%, 
            var(--phb-gold) 10%, 
            var(--phb-burgundy) 30%, 
            var(--phb-gold) 50%, 
            var(--phb-burgundy) 70%, 
            var(--phb-gold) 90%, 
            transparent 100%
        ) !important;
    border-radius: 2px !important;
}

/* Add decorative elements to H2 */
h2::before {
    content: "◆" !important;
    position: absolute !important;
    left: 0.3em !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    color: var(--phb-gold) !important;
    font-size: 0.8em !important;
    text-shadow: 0 0 4px rgba(201, 173, 106, 0.6) !important;
}

/* Margin Decorations - Small ornamental elements */
.markdown-preview-view {
    background-image: 
        /* Existing background gradients... */
        var(--phb-cream),
        /* Add small decorative elements in margins */
        radial-gradient(circle at 0.2in 2in, rgba(139, 117, 94, 0.2) 0%, transparent 3px),
        radial-gradient(circle at 0.2in 4in, rgba(139, 117, 94, 0.2) 0%, transparent 3px),
        radial-gradient(circle at 0.2in 6in, rgba(139, 117, 94, 0.2) 0%, transparent 3px),
        radial-gradient(circle at 0.2in 8in, rgba(139, 117, 94, 0.2) 0%, transparent 3px),
        /* Right margin decorations */
        radial-gradient(circle at calc(100% - 0.2in) 2.5in, rgba(139, 117, 94, 0.2) 0%, transparent 3px),
        radial-gradient(circle at calc(100% - 0.2in) 4.5in, rgba(139, 117, 94, 0.2) 0%, transparent 3px),
        radial-gradient(circle at calc(100% - 0.2in) 6.5in, rgba(139, 117, 94, 0.2) 0%, transparent 3px),
        radial-gradient(circle at calc(100% - 0.2in) 8.5in, rgba(139, 117, 94, 0.2) 0%, transparent 3px) !important;
    background-repeat: no-repeat !important;
}

/* Enhanced Stat Blocks - More PHB-like */
.stat-block {
    background: 
        linear-gradient(135deg, rgba(255, 248, 235, 0.98) 0%, rgba(245, 235, 220, 0.98) 100%),
        repeating-linear-gradient(
            45deg,
            transparent,
            transparent 1px,
            rgba(139, 117, 94, 0.05) 1px,
            rgba(139, 117, 94, 0.05) 2px
        ) !important;
    border: 4px solid transparent !important;
    background-clip: padding-box !important;
    border-radius: 12px !important;
    padding: 1.5em !important;
    margin: 2em 0 !important;
    position: relative !important;
    box-shadow: 
        0 8px 20px rgba(0, 0, 0, 0.15),
        inset 0 2px 4px rgba(255, 255, 255, 0.9) !important;
}

/* PHB-style stat block border */
.stat-block::before {
    content: "" !important;
    position: absolute !important;
    top: -4px !important;
    left: -4px !important;
    right: -4px !important;
    bottom: -4px !important;
    background: 
        linear-gradient(45deg, 
            var(--phb-burgundy) 0%, 
            var(--phb-gold) 8.33%, 
            var(--phb-burgundy) 16.66%, 
            var(--phb-gold) 25%, 
            var(--phb-burgundy) 33.33%, 
            var(--phb-gold) 41.66%, 
            var(--phb-burgundy) 50%, 
            var(--phb-gold) 58.33%, 
            var(--phb-burgundy) 66.66%, 
            var(--phb-gold) 75%, 
            var(--phb-burgundy) 83.33%, 
            var(--phb-gold) 91.66%, 
            var(--phb-burgundy) 100%
        ) !important;
    border-radius: 16px !important;
    z-index: -1 !important;
}

/* Stat block creature name with more ornate styling */
.stat-block h4 {
    font-family: "Cinzel Decorative", "Cinzel", serif !important;
    text-align: center !important;
    font-size: 1.4em !important;
    margin: -0.5em -0.5em 1em -0.5em !important;
    padding: 0.8em !important;
    background: 
        linear-gradient(90deg, 
            rgba(255, 255, 255, 0.4) 0%, 
            rgba(255, 248, 230, 0.8) 30%, 
            rgba(255, 252, 240, 0.9) 50%, 
            rgba(255, 248, 230, 0.8) 70%, 
            rgba(255, 255, 255, 0.4) 100%
        ) !important;
    border-radius: 8px 8px 0 0 !important;
    border-bottom: 2px solid var(--phb-gold) !important;
    position: relative !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8) !important;
}

/* Enhanced Table Styling - More PHB-like */
table {
    width: 100% !important;
    margin: 1.5em 0 !important;
    border-collapse: separate !important;
    border-spacing: 0 !important;
    background: 
        linear-gradient(135deg, rgba(255, 252, 245, 0.98) 0%, rgba(250, 245, 235, 0.98) 100%),
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 1px,
            rgba(139, 117, 94, 0.03) 1px,
            rgba(139, 117, 94, 0.03) 2px
        ) !important;
    border: 3px solid var(--phb-burgundy) !important;
    border-radius: 10px !important;
    box-shadow: 
        0 6px 16px rgba(0, 0, 0, 0.15),
        inset 0 2px 4px rgba(255, 255, 255, 0.8) !important;
    overflow: hidden !important;
}

/* PHB-style table headers */
th {
    background: 
        linear-gradient(180deg, #f4b942 0%, #e69a28 30%, #d4841f 70%, #c67617 100%),
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(0, 0, 0, 0.1) 2px,
            rgba(0, 0, 0, 0.1) 4px
        ) !important;
    color: #fff !important;
    font-family: "Cinzel", serif !important;
    font-weight: bold !important;
    font-size: 1em !important;
    text-align: center !important;
    padding: 0.8em !important;
    border: none !important;
    text-shadow: 
        0px 1px 0px rgba(0, 0, 0, 0.5),
        0px 0px 6px rgba(0, 0, 0, 0.3) !important;
    position: relative !important;
}

/* Add decorative elements to table headers */
th::after {
    content: "" !important;
    position: absolute !important;
    bottom: 0 !important;
    left: 10% !important;
    right: 10% !important;
    height: 1px !important;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.4) 20%, 
        rgba(255, 255, 255, 0.6) 50%, 
        rgba(255, 255, 255, 0.4) 80%, 
        transparent 100%
    ) !important;
}

/* Two-Column Layout with PHB Styling */
.two-column {
    columns: 2 !important;
    column-gap: 0.25in !important;
    column-rule: 2px solid var(--phb-gold) !important;
    margin: 1em 0 !important;
    padding: 0 !important;
}

/* Column rule decoration */
.two-column::before {
    content: "◆" !important;
    position: absolute !important;
    left: 50% !important;
    top: 0 !important;
    transform: translateX(-50%) !important;
    color: var(--phb-gold) !important;
    font-size: 0.8em !important;
    background: var(--phb-cream) !important;
    padding: 0 0.3em !important;
    text-shadow: 0 0 4px rgba(201, 173, 106, 0.6) !important;
}

/* Enhanced Horizontal Rules */
hr {
    border: none !important;
    height: 8px !important;
    margin: 3em 0 !important;
    background: 
        linear-gradient(90deg, 
            transparent 0%, 
            var(--phb-gold) 5%, 
            var(--phb-burgundy) 20%, 
            var(--phb-gold) 35%, 
            var(--phb-burgundy) 50%, 
            var(--phb-gold) 65%, 
            var(--phb-burgundy) 80%, 
            var(--phb-gold) 95%, 
            transparent 100%
        ) !important;
    border-radius: 4px !important;
    position: relative !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

/* Decorative elements on horizontal rules */
hr::before, hr::after {
    content: "❦" !important;
    position: absolute !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    color: var(--phb-gold) !important;
    font-size: 1.2em !important;
    background: var(--phb-cream) !important;
    padding: 0 0.4em !important;
    border-radius: 50% !important;
    text-shadow: 0 0 6px rgba(201, 173, 106, 0.6) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

hr::before {
    left: 25% !important;
}

hr::after {
    right: 25% !important;
}

/* Page Break Styling */
.page-break {
    page-break-before: always !important;
    break-before: page !important;
    margin-top: 0 !important;
    padding-top: 2em !important;
    border-top: 4px double var(--phb-gold) !important;
    position: relative !important;
}

.page-break::before {
    content: "◆ Chapter Break ◆" !important;
    position: absolute !important;
    top: -0.8em !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    background: var(--phb-cream) !important;
    padding: 0 1em !important;
    color: var(--phb-burgundy) !important;
    font-family: "Cinzel", serif !important;
    font-size: 0.9em !important;
    font-weight: bold !important;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8) !important;
}

/* Print Enhancements for PHB Look */
@media print {
    /* Ensure page size and margins */
    @page {
        size: 8.5in 11in !important;
        margin: 0.75in 1in !important;
        background: var(--phb-cream) !important;
    }
    
    /* Page numbers in print */
    @page :right {
        @bottom-right {
            content: counter(page) !important;
            font-family: "Cinzel", serif !important;
            color: var(--phb-burgundy) !important;
        }
    }
    
    @page :left {
        @bottom-left {
            content: counter(page) !important;
            font-family: "Cinzel", serif !important;
            color: var(--phb-burgundy) !important;
        }
    }
    
    /* Ensure all decorative elements print */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        color-adjust: exact !important;
    }
}

/* Mobile Adaptations - Maintain PHB Look */
@media screen and (max-width: 768px) {
    .markdown-preview-view {
        max-width: 100% !important;
        padding: 0.5in 0.3in !important;
        min-height: auto !important;
        margin: 0 !important;
    }
    
    .markdown-preview-view::before {
        top: 0.2in !important;
        left: 0.2in !important;
        right: 0.2in !important;
        bottom: 0.2in !important;
    }
    
    .markdown-preview-view::after {
        top: 0.15in !important;
        left: 0.15in !important;
        right: 0.15in !important;
        bottom: 0.15in !important;
    }
    
    h1 {
        font-size: 2em !important;
        margin: 1em 0 0.5em 0 !important;
        padding: 1em !important;
    }
    
    h2 {
        font-size: 1.5em !important;
        margin: 1.5em -0.3in 0.8em -0.3in !important;
        padding: 0.8em 0.3in 0.4em 0.3in !important;
    }
    
    .two-column {
        columns: 1 !important;
        column-rule: none !important;
    }
}

/* Very Small Screens */
@media screen and (max-width: 480px) {
    .markdown-preview-view {
        padding: 0.25in 0.2in !important;
    }
    
    h1 {
        font-size: 1.8em !important;
        padding: 0.8em !important;
    }
    
    h1::after {
        content: "⚔️" !important;
        font-size: 0.5em !important;
    }
}
